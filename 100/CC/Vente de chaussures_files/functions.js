function isMobile(){return window.matchMedia("(max-width: 769px)").matches}function isTablet(){return window.matchMedia("(max-width: 1031px)").matches}function isTabletOnly(){return window.matchMedia("(max-width: 1031px) and (min-width: 768px)").matches}function isChromeIOS(){return Boolean(navigator.userAgent.match("CriOS"))}function isIPad(){return Boolean(navigator.userAgent.match(/iPad/i))}function isIPhone(){return Boolean(navigator.userAgent.match(/iPhone|iPod/i))}function fireEvent(a,b){if(document.createEventObject){var c=document.createEventObject();return a.fireEvent("on"+b,c)}var c=document.createEvent("HTMLEvents");return c.initEvent(b,!0,!0),!a.dispatchEvent(c)}function stickyNav(){if(!isTablet()&&!isMobile()){var a=jQuery("body"),b=jQuery(".js-fixed-header");if(0!==b.length){var c=jQuery(".js-fixed-cart"),d=b.offset().top,e=c.offset().top;setTimeout(function(){d=b.offset().top,e=c.offset().top,c.attr("data-offsetTop",e),f()},200);var f=function(){var f=jQuery(window).scrollTop();f>d?(b.addClass("js-sticky"),a.addClass("js-header-sticky")):(b.removeClass("js-sticky"),a.removeClass("js-header-sticky")),f>e-28?(c.addClass("js-sticky"),a.addClass("js-cart-sticky")):(c.removeClass("js-sticky"),a.removeClass("js-cart-sticky"))};jQuery(window).resize(function(){d=b.offset().top,e=c.offset().top,c.attr("data-offsetTop",e),f()}),jQuery(window).scroll(function(){f()})}}}function stickyFilters(){function a(){if(!(e>f)){c=jQuery(document).height();var a=jQuery(window).scrollTop()+90,d=a+e+30;b>a?jQuery(".js_sticky_sidebar").removeClass("catalog-cols-fixed catalog-cols-fixed-bottom"):d+70>=h?jQuery(".js_sticky_sidebar").removeClass("catalog-cols-fixed").addClass("catalog-cols-fixed-bottom"):jQuery(".js_sticky_sidebar").removeClass("catalog-cols-fixed-bottom").addClass("catalog-cols-fixed")}}if(!isTablet()&&jQuery(".js_sticky_sidebar").length){var b=jQuery(".js_sticky_sidebar").offset().top,c=jQuery(document).height(),d=jQuery(".main-footer").height(),e=(jQuery(".products-list li").height(),jQuery(".col-sidebar").height()),f=jQuery(".col-products").height(),g=d+jQuery(".catalog-footer").outerHeight(),h=c-g;a(),jQuery(window).scroll(function(){a()})}}function stickyCartOnly(){if(!isTablet()&&!isMobile()){var a=jQuery("body"),b=jQuery(".js-fixed-cart");if(0!==b.length){var c=b.attr("data-offsetTop");c||setTimeout(function(){c=b.offset().top,b.attr("data-offsetTop",c),d()},200);var d=function(){var d=jQuery(window).scrollTop();d>c-28?(b.addClass("js-sticky"),a.addClass("js-cart-sticky")):(b.removeClass("js-sticky"),a.removeClass("js-cart-sticky"))};jQuery(window).resize(function(){c=b.offset().top,b.attr("data-offsetTop",c),d()}),jQuery(window).scroll(function(){d()})}}}function clrzTouchMenu(){isTablet()&&jQuery(".js-touch-menu").each(function(a,b){var c=jQuery(b).find(".item:not(.submenu-nosubmenu)"),d=c.find(".top-level-link");d.each(function(a,b){PreventGhostClick(b),b=jQuery(b),b.on("click",function(a){a.stopPropagation(),a.preventDefault()}).hammer().on("tap",function(a){c.removeClass("js-open"),jQuery(this).parent().toggleClass("js-open")})})})}function clrzMoreTrigger(){$j(".js-more-trigger").each(function(a,b){var b=$j(b),c=$j(b.data("target"));c.each(function(a,b){var b=$j(b);b.attr("data-height",b.height()),b.css("height",0)}),b.click(function(a){$j(this).toggleClass("js-active"),c.each(function(a,b){var b=$j(b);"true"==b.data("open")?b.css("height",0).data("open","false"):b.css("height",b.data("height")).data("open","true")})}),b.hasClass("js-active-default")&&b.click()})}function itemsTimeline(){if(!(isMobile()||IE&&IE<10||isIPad())){BezierCurve={easeMaterial:new Ease(BezierEasing(.4,0,.2,1))};var a=".transitioned";if(jQuery(a).length){var b,c="-=0",d=!1,e=150;controller=new ScrollMagic,jQuery(a).each(function(f,g){var h=jQuery(g).offset().top,i=.4,j=.6;if(0==d){lineitem=g,timeline=new TimelineMax,d=h;new ScrollScene({triggerElement:lineitem,triggerHook:"onEnter",offset:e}).setTween(timeline).addTo(controller).reverse(!1);lineitem=g,b=g,d=h,c="-=0"}else if(h!=d){new ScrollScene({triggerElement:lineitem,triggerHook:"onEnter",offset:e}).setTween(timeline).addTo(controller).reverse(!1);lineitem=g,timeline=new TimelineMax,b=g,d=h,c="-=0"}else c="-=0.3";if(timeline.fromTo(g,i,{opacity:0,y:40,ease:BezierCurve.easeMaterial,force3D:!0},{opacity:1,y:0,ease:BezierCurve.easeMaterial,force3D:!0},c).fromTo(jQuery(g).find(".product-images").eq(0),j,{opacity:0,y:40,ease:BezierCurve.easeMaterial,force3D:!0},{opacity:1,y:0,ease:BezierCurve.easeMaterial,force3D:!0},"-=0.5"),f+1!=jQuery(a).length);else{new ScrollScene({triggerElement:lineitem,triggerHook:"onEnter",offset:e}).setTween(timeline).addTo(controller).reverse(!1)}})}}}function rippleButton(){Modernizr.touch&&(jQuery(".cta-ripple").each(function(){jQuery(this).append("<div class='ripple'></div>")}),jQuery(".cta-ripple").hammer().on("tap",function(a){var b,c,d=jQuery(this);b=a.gesture.center.x,c=a.gesture.center.y;var e=d.offset(),f=b-e.left,g=c-e.top,h=d.width(),i=d.find(".ripple");i.addClass("notransition"),i.css({top:g,left:f}),i[0].offsetHeight,i.removeClass("notransition"),i.css({width:2*h,height:2*h,"margin-left":-h,"margin-top":-h}),setTimeout(function(){i.addClass("notransition"),i.attr("style",""),i[0].offsetHeight,d.removeClass("hovered"),i.removeClass("notransition")},300)}))}function productSlider(){var a;return a=isIPhone()?jQuery(".js-related-touch-slider .product-item, .homepage-products .product-item, .product-color-slider"):isTablet()?jQuery(".js-related-touch-slider .product-item, .homepage-products .product-item"):jQuery(".homepage-products .product-item"),a.each(function(a,b){var c=jQuery(b),d=0,e=c.find(".product-name a"),f=c.find(".catalog-product-other-colors li");f.each(function(a,b){$bullet=jQuery(b),$bullet.hasClass("current")&&(d=$bullet.index(),e.html($bullet.attr("data-name")),e.attr("href",$bullet.attr("data-url")),e.attr("data-sku",$bullet.attr("data-sku")))});var g=c.find(".swipe-wrap > a");g.addClass("hidden"),g.eq(d).removeClass("hidden").addClass("active")}),isIPhone()?(jQuery(".product-swipe").addClass("in"),jQuery(".catalog-product-other-colors").css("display","none"),void jQuery(".catalog-product-other-colors-message").removeAttr("hidden")):void jQuery(".product-color-slider").each(function(a,b){if(b=jQuery(b),isTablet()&&b.parents(".js-related-touch-slider").length)return b.find(".product-swipe").addClass("in"),!0;if(b.find(".catalog-product-other-colors > li").length){var c=b.find(".product-swipe");c.sliderProductz({pager:b.find(".catalog-product-other-colors > li"),title:b.find(".product-name a")})}else b.find(".product-swipe").addClass("in")})}function iconCartLoader(){isMobile()||jQuery(".icon-cart-loader").each(function(a,b){var c=new TimelineMax({repeat:-1}),d=jQuery(b).find(".cart-loader-outline");c.set(d,{drawSVG:"0% 0%"}).to(d,.2,{drawSVG:"11% 25%",ease:Linear.easeNone}).to(d,.5,{drawSVG:"35% 70%",ease:Linear.easeNone}).to(d,.9,{drawSVG:"99% 100%",ease:Linear.easeNone})})}function relatedTouchSlider(){isTablet()&&jQuery(".js-related-touch-slider").each(function(a,b){if(b=jQuery(b),b.find(" > li").length>1){b.flickity({initialIndex:1,imagesLoaded:!0,prevNextButtons:!1,pageDots:!1,wrapAround:!0,selectedAttraction:.08,friction:.6})}})}function pseudoAjax(){isTablet()||(setTimeout(function(){jQuery("body").addClass("fade in")},10),jQuery('a:not(.no-href):not([href^="#"])').mouseup(function(a){if(!(1!==a.which||a.shiftKey||a.ctrlKey||a.metaKey)){var b=document.location.origin+document.location.pathname,c=this.href,d=c.indexOf("#"),e="";d>0&&(e=c.substring(0,d)),"_blank"!=this.target&&""!=c&&"#"!=c&&e!=b&&jQuery("body").removeClass("in")}}))}!function(a,b,c){function d(a){for(var b=0;b<h.length;b++){var c=h[b][0],d=h[b][1];if(Math.abs(a.clientX-c)<i&&Math.abs(a.clientY-d)<i){a.stopPropagation(),a.preventDefault();break}}}function e(){h=[]}function f(){h.splice(0,1)}function g(a){if(a.touches.length-a.changedTouches.length<=0){var b=a.changedTouches[0];h.push([b.clientX,b.clientY]),setTimeout(f,j)}}var h=[],i=25,j=2500;return"ontouchstart"in a?(a[c]=function(a){a.addEventListener("touchstart",e,!0),a.addEventListener("touchend",g,!0)},void b.addEventListener("click",d,!0)):void(a[c]=function(){})}(window,document,"PreventGhostClick"),jQuery.fn.sliderProductz||!function(a,b,c){var d={sliderz:!1,defaultSettings:{},settings:{},init:function(a,b){this.jQel=a,this.el=a.get(0),this.getSettings(b),this.setElements(),this.setEvents()},getSettings:function(b){"object"!=typeof b&&(b={}),this.settings=a.extend(!0,{},this.defaultSettings,b)},setElements:function(){var a=this,b=(this.settings,this.el);if(this.el){var c=a.getInitialIndex(),d=jQuery(b).find("a"),e=d.eq(c);this.sliderz=new Swipe(this.el,{speed:400,continuous:!0,startSlide:c,callback:function(b,c){a.setBullet(b);var e=d.eq(b);d.removeClass("active"),e.addClass("active")}}),a.setBullet(c),setTimeout(function(){d.removeClass("active"),e.addClass("active"),jQuery(b).addClass("in")},400)}},getInitialIndex:function(){var a=this.settings,b=0;return a.pager&&a.pager.each(function(a,c){c=jQuery(c),c.hasClass("current")&&(b=c.index())}),b},setEvents:function(){var a=this,b=this.settings;b.pager&&b.pager.on("click",function(b){a.sliderz.slide(jQuery(this).index())}),this.jQel.on("gotoslide",function(b,c){a.sliderz.slide(c)})},setBullet:function(a){var b=this.settings;if(b.pager){a>b.pager.length-1&&(a-=b.pager.length);var c=b.pager.eq(a);b.pager.removeClass("current"),c.addClass("current"),b.title&&(b.title.html(c.attr("data-name")),b.title.attr("href",c.attr("data-url")),b.title.attr("data-sku",c.attr("data-sku")))}}};a.fn.sliderProductz=function(b){return this.each(function(){var c=a(this),e="plugin_sliderProductz".toLowerCase();c.hasClass(e)||(a.extend(!0,{},d).init(c,b),c.addClass(e))}),this}}(jQuery,window,document);